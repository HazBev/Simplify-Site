const translations = {
  en: {
    nav_home: "Home",
    nav_download: "Download",
    nav_about: "About",
    nav_menu: "Menu",
    nav_method: "Methodology of the app",
    nav_founder: "About the founder",
    nav_cta: "Join the beta",
    hero_badge: "Home",
    hero_title: "Contract clarity, powered by readability analysis.",
    hero_body: "Simplify helps teams understand complex agreements with research‑backed contract readability, visual summaries, and consistent language insights built from a 30‑year corpus.",
    hero_cta_primary: "Join the beta",
    hero_cta_secondary: "Explore the research",
    hero_stat_years_value: "30 yrs",
    hero_stat_years_label: "Contracts analysed",
    hero_stat_models_value: "3 models",
    hero_stat_models_label: "Readability triangulation",
    home_section_title: "See what your contract says at a glance.",
    home_section_body: "Replace dense legal text with visual summaries, comparison tables, and structured views so every stakeholder understands the contract faster.",
    highlights_badge: "Highlights",
    highlights_card1_label: "Dispute resolution clarity",
    highlights_card2_label: "Liability cap matrix",
    highlights_card3_label: "Termination procedure clarity",
    highlights_card1_alt: "Dispute resolution clarity visual",
    highlights_card2_alt: "Liability cap matrix clarity visual",
    highlights_card3_alt: "Termination procedure clarity visual",
    highlights_card1_caption: "Dispute resolution clarity",
    highlights_card2_caption: "Liability cap matrix",
    highlights_card3_caption: "Termination procedure clarity",
    download_title: "Download (coming soon)",
    download_body: "We are finalising the installer experience. In the meantime, here is a preview of what you will get with Simplify.",
    download_placeholder_title: "Placeholder preview",
    download_badge: "Download",
    download_section_title: "What you will see inside Simplify",
    download_section_body: "We are polishing the download experience. This preview shows the workflows, visuals, and reports you will access inside Simplify.",
    download_card1_title: "Dispute resolution clarity",
    download_card1_body: "Visualise escalation steps, deadlines, and resolution paths in a single timeline.",
    download_card2_title: "Liability cap matrix",
    download_card2_body: "Compare caps, carve‑outs, and exceptions across clauses with a clear matrix view.",
    download_card3_title: "Termination procedure clarity",
    download_card3_body: "Understand notice periods, cure windows, and triggers without digging through pages.",
    download_card1_alt: "Dispute resolution clarity visual",
    download_card2_alt: "Liability cap matrix visual",
    download_card3_alt: "Termination procedure visual",
    methodology_title: "Methodology of the app",
    methodology_body: "Simplify operationalises readability through a combined approach, drawing on complementary models of textual complexity.",
    methodology_item1_title: "Years of readability",
    methodology_item1_body: "Estimates the years of formal education required to understand text on first reading.",
    methodology_item2_title: "Flesch Reading Ease",
    methodology_item2_body: "Situates text on a continuum from very easy to very difficult (0-100).",
    methodology_item3_title: "AI simplification",
    methodology_item3_body: "Leveraging Large Language Models to suggest active-voice alternatives while preserving legal intent.",
    founder_title: "About the founder",
    founder_body: "Harry Bevan leads the research and product direction behind Simplify. A fourth-year PhD researcher in English for Specific Purposes, he blends contract linguistics and applied readability science to make complex agreements genuinely understandable.",
    founder_card1_title: "Doctoral research",
    founder_card1_body: "Fourth-year PhD researcher in English for Specific Purposes at Université Grenoble Alpes, studying the impact of contract semantics on commercial relationships.",
    founder_card2_title: "Teaching & practice",
    founder_card2_body: "English for business and contract negotiation lecturer (UGA), with professional experience in contract research and member advocacy at World Commerce & Contracting.",
    founder_card3_title: "Applied impact",
    founder_card3_body: "Turning research into practical tools that help teams compare clarity, align stakeholders, and reduce friction in real contracts.",
    cta_badge: "Join the beta",
    cta_title: "Bring your contracts into shared clarity.",
    cta_body: "Share your email and we will onboard you as a beta tester with a tailored walkthrough.",
    cta_button: "Apply for beta",
    email_placeholder: "work@email.com",
    meta_home_title: "Simplify | Contract Clarity & Readability Analysis",
    meta_home_desc: "Simplify helps teams make contracts clearer with readability analysis, visual summaries, and research‑backed insights. Join the beta and explore the methodology.",
    meta_home_og_title: "Simplify | Contract Clarity & Readability Analysis",
    meta_home_og_desc: "Make complex contracts understandable with research‑backed readability analysis and visual clarity tools.",
    meta_download_title: "Simplify | Download (Coming Soon)",
    meta_download_desc: "Download Simplify (coming soon). Preview the contract clarity platform built on research‑backed readability analysis.",
    meta_download_og_title: "Simplify | Download (Coming Soon)",
    meta_download_og_desc: "We are finalising the installer. Preview Simplify’s contract clarity platform.",
    meta_methodology_title: "Simplify | Methodology",
    meta_methodology_desc: "Explore the methodology behind Simplify: a triangulated approach to contract readability and clarity.",
    meta_methodology_og_title: "Simplify | Methodology",
    meta_methodology_og_desc: "Research‑backed methodology for contract readability and clarity.",
    meta_founder_title: "Simplify | About the Founder",
    meta_founder_desc: "Meet the founder of Simplify and the research behind the contract clarity platform.",
    meta_founder_og_title: "Simplify | About the Founder",
    meta_founder_og_desc: "Founder profile and research background behind Simplify.",
    method_intro_badge: "About the App – How Simplify Works",
    method_intro_title: "Contract Clarity Studio, explained.",
    method_intro_body: "Simplify (Contract Clarity Studio) is a research‑based drafting tool that untangles complex legal language and turns it into clear, readable English while maintaining legal accuracy. Think of it as a smart co‑pilot for lawyers, businesses, and anyone who needs to understand what a contract really says.",
    method_idea_badge: "The Idea Behind Simplify",
    method_idea_title: "A linguistic engine for clearer contracts.",
    method_idea_body: "It breaks down how contracts are written, highlights what makes them complicated, and helps you rebuild them in clearer, fairer ways. Inspired by plain‑language design and powered by Gemini 3 AI models that understand legal logic.",
    method_card1_title: "Drafting support",
    method_card1_body: "Rewrites dense clauses into plain English and highlights confusing sections. Side‑by‑side alternatives are delivered in an annotated `.docx` report.",
    method_card2_title: "Visual Architect",
    method_card2_body: "Turns paragraphs into visuals: timelines, fee tables, responsibility matrices, and flowcharts for conditions.",
    method_card3_title: "Key Terms Summary (TLDR)",
    method_card3_body: "Persona‑based summaries (Tenant, Supplier, etc.), each backed by a direct quote for instant verification.",
    method_card4_title: "Complexity metrics",
    method_card4_body: "Measures sentence length, word structure, and language complexity for a clear readability profile.",
    method_card5_title: "Clarity & balance check",
    method_card5_body: "Flags uneven or unclear language. Not legal advice — a focused signal for review.",
    method_card6_title: "Clarity certification",
    method_card6_body: "Meets plain‑language standards? Get a Simplicity Score and a digital clarity badge.",
    read_badge: "How Readability Is Measured",
    read_title: "Scores plus explanations.",
    read_body: "Classical linguistic formulas plus syntactic analysis — so you know the score and the reason behind it.",
    read_card1_title: "Flesch Reading Ease (FKRC)",
    read_card1_body: "0–100 scale. Higher scores are easier to read; lower scores indicate complex writing. Uses sentence length and syllables per word.",
    read_card2_title: "Gunning Fog Index (GF)",
    read_card2_body: "Translates readability into an education level. Legal contracts often score 16–20 (postgraduate difficulty).",
    read_card3_title: "Syllable counting logic",
    read_card3_body: "Counts vowel groups, ignores silent vowels, and ensures every word counts as at least one syllable.",
    read_math_toggle: "See the maths",
    read_math_fkrc: "Flesch Reading Ease formula reference",
    read_math_gf: "Gunning Fog Index formula reference",
    read_card4_title: "Syntactic density analysis",
    read_card4_body: "Flags passive voice, long sentences (20+ words), and legalese density to pinpoint where clarity can improve.",
    read_card5_title: "Interpreting results",
    read_card5_body: "Combines scores into a clarity profile so you know what is hard to read and why.",
    read_card6_title: "Score ranges",
    read_card6_body: "90–100 very easy, 60–70 standard, 30–50 difficult, 0–30 very difficult.",
    use_badge: "Built for Real‑World Use",
    use_title: "Privacy‑first, practical, and fast.",
    use_body: "Processes data locally when possible, includes Redaction Mode, and supports OCR for PDFs or photos. The interface is clean, fast, and available in English, French, and German.",
    use_mission: "Simplify’s mission is simple: remove the fog from legal writing so you can see what is really said, what could be clearer, and how to create contracts that are readable, responsible, and transparent.",
    founder_cta_primary: "Explore the methodology",
    founder_cta_secondary: "Join the beta",
    founder_why_title: "Why Simplify exists",
    founder_why_body: "Years of teaching contract negotiation and researching legal language made one thing clear: people sign documents they do not fully understand. Simplify exists to make clarity the default, not the exception."
  },
  fr: {
    nav_home: "Accueil",
    nav_download: "Téléchargement",
    nav_about: "À propos",
    nav_menu: "Menu",
    nav_method: "Méthodologie de l’app",
    nav_founder: "À propos du fondateur",
    nav_cta: "Rejoindre la bêta",
    hero_badge: "Accueil",
    hero_title: "La clarté contractuelle, portée par l’analyse de lisibilité.",
    hero_body: "Simplify aide les équipes à comprendre les contrats complexes grâce à l’analyse de lisibilité, des résumés visuels et des indicateurs issus d’un corpus de 30 ans.",
    hero_cta_primary: "Rejoindre la bêta",
    hero_cta_secondary: "Explorer la recherche",
    hero_stat_years_value: "30 ans",
    hero_stat_years_label: "Contrats analysés",
    hero_stat_models_value: "3 modèles",
    hero_stat_models_label: "Triangulation de lisibilité",
    home_section_title: "Comprendre un contrat d’un coup d’œil.",
    home_section_body: "Remplacez le legalese par des résumés visuels, des tableaux comparatifs et des vues structurées pour aligner toutes les parties prenantes.",
    highlights_badge: "Points forts",
    highlights_card1_label: "Clarté des litiges",
    highlights_card2_label: "Matrice des plafonds",
    highlights_card3_label: "Clarté de résiliation",
    highlights_card1_alt: "Visuel de clarté des litiges",
    highlights_card2_alt: "Visuel de matrice des plafonds",
    highlights_card3_alt: "Visuel de clarté de résiliation",
    highlights_card1_caption: "Clarté des litiges",
    highlights_card2_caption: "Matrice des plafonds",
    highlights_card3_caption: "Clarté de résiliation",
    download_title: "Téléchargement (bientôt disponible)",
    download_body: "Nous finalisons l’expérience d’installation. En attendant, voici un aperçu de ce que vous obtiendrez avec Simplify.",
    download_placeholder_title: "Aperçu provisoire",
    download_badge: "Téléchargement",
    download_section_title: "Ce que vous verrez dans Simplify",
    download_section_body: "Nous peaufinons l’expérience de téléchargement. Cet aperçu montre les flux de travail, visuels et rapports disponibles dans Simplify.",
    download_card1_title: "Clarté des litiges",
    download_card1_body: "Visualisez les étapes d’escalade, les échéances et les voies de résolution sur une seule timeline.",
    download_card2_title: "Matrice des plafonds",
    download_card2_body: "Comparez plafonds, exceptions et carve‑outs dans une vue matricielle claire.",
    download_card3_title: "Clarté de résiliation",
    download_card3_body: "Comprenez délais de préavis, périodes de remède et déclencheurs sans parcourir des pages.",
    download_card1_alt: "Visuel de clarté des litiges",
    download_card2_alt: "Visuel de matrice des plafonds",
    download_card3_alt: "Visuel de clarté de résiliation",
    methodology_title: "Méthodologie de l’app",
    methodology_body: "Simplify opérationnalise la lisibilité via une approche combinée, en s’appuyant sur des modèles complémentaires de complexité textuelle.",
    methodology_item1_title: "Années de lisibilité",
    methodology_item1_body: "Estime le nombre d’années d’études nécessaires pour comprendre un texte à la première lecture.",
    methodology_item2_title: "Flesch Reading Ease",
    methodology_item2_body: "Situe le texte sur un continuum de très facile à très difficile (0-100).",
    methodology_item3_title: "Simplification par IA",
    methodology_item3_body: "Exploite les modèles de langage pour proposer des alternatives en voix active tout en préservant l’intention juridique.",
    founder_title: "À propos du fondateur",
    founder_body: "Harry Bevan pilote la recherche et la direction produit de Simplify. Doctorant en 4e année en anglais de spécialité, il associe linguistique contractuelle et science de la lisibilité pour rendre les accords complexes réellement compréhensibles.",
    founder_card1_title: "Recherche doctorale",
    founder_card1_body: "Doctorant en 4e année en anglais de spécialité à l’Université Grenoble Alpes, étudiant l’impact de la sémantique contractuelle sur les relations commerciales.",
    founder_card2_title: "Enseignement & terrain",
    founder_card2_body: "Lecteur d’anglais des affaires et de négociation de contrats (UGA), avec une expérience en recherche contractuelle et member advocacy chez World Commerce & Contracting.",
    founder_card3_title: "Impact appliqué",
    founder_card3_body: "Transformer la recherche en outils concrets pour comparer la clarté, aligner les parties prenantes et réduire les frictions contractuelles.",
    cta_badge: "Rejoindre la bêta",
    cta_title: "Donnez à vos contrats une clarté partagée.",
    cta_body: "Laissez votre email et nous vous intégrerons comme testeur bêta avec une présentation adaptée.",
    cta_button: "Postuler à la bêta",
    email_placeholder: "adresse@entreprise.com",
    meta_home_title: "Simplify | Clarté contractuelle & lisibilité",
    meta_home_desc: "Simplify aide les équipes à rendre les contrats plus clairs grâce à l’analyse de lisibilité, des résumés visuels et des insights issus de la recherche.",
    meta_home_og_title: "Simplify | Clarté contractuelle & lisibilité",
    meta_home_og_desc: "Rendez les contrats complexes compréhensibles grâce à la lisibilité et aux visuels.",
    meta_download_title: "Simplify | Téléchargement (bientôt)",
    meta_download_desc: "Téléchargez Simplify (bientôt disponible). Découvrez la plateforme de clarté contractuelle basée sur la recherche.",
    meta_download_og_title: "Simplify | Téléchargement (bientôt)",
    meta_download_og_desc: "Nous finalisons l’installateur. Aperçu de la plateforme Simplify.",
    meta_methodology_title: "Simplify | Méthodologie",
    meta_methodology_desc: "Découvrez la méthodologie de Simplify : une approche triangulée de la lisibilité contractuelle.",
    meta_methodology_og_title: "Simplify | Méthodologie",
    meta_methodology_og_desc: "Méthodologie fondée sur la recherche pour la lisibilité des contrats.",
    meta_founder_title: "Simplify | À propos du fondateur",
    meta_founder_desc: "Découvrez le fondateur de Simplify et la recherche derrière la clarté contractuelle.",
    meta_founder_og_title: "Simplify | À propos du fondateur",
    meta_founder_og_desc: "Profil du fondateur et recherche derrière Simplify.",
    method_intro_badge: "À propos de l’app – Comment Simplify fonctionne",
    method_intro_title: "Contract Clarity Studio, expliqué.",
    method_intro_body: "Simplify (Contract Clarity Studio) est un outil de rédaction fondé sur la recherche qui démêle le langage juridique complexe et le transforme en anglais clair et lisible, tout en conservant la précision légale. Pensez‑le comme un co‑pilote intelligent pour les juristes, les entreprises et toute personne qui doit comprendre ce qu’un contrat dit réellement.",
    method_idea_badge: "L’idée derrière Simplify",
    method_idea_title: "Un moteur linguistique pour des contrats plus clairs.",
    method_idea_body: "Il décortique l’écriture contractuelle, met en évidence ce qui rend les textes complexes, puis aide à les reconstruire de façon plus claire et plus juste. Inspiré par le plain‑language design et alimenté par des modèles Gemini 3 qui comprennent la logique juridique.",
    method_card1_title: "Aide à la rédaction",
    method_card1_body: "Réécrit les clauses denses en anglais clair et signale les passages confus. Propose des alternatives côte‑à‑côte dans un rapport `.docx` annoté.",
    method_card2_title: "Architecte visuel",
    method_card2_body: "Transforme les paragraphes en visuels : frises de délais, tableaux de frais, matrices de responsabilités et organigrammes de conditions.",
    method_card3_title: "Résumé TLDR",
    method_card3_body: "Résumés par persona (locataire, fournisseur, etc.), chaque point étant appuyé par une citation directe.",
    method_card4_title: "Mesures de complexité",
    method_card4_body: "Mesure la longueur des phrases, la structure des mots et la complexité linguistique pour un profil de lisibilité clair.",
    method_card5_title: "Clarté & équilibre",
    method_card5_body: "Signale les formulations inéquitables ou floues. Pas de conseil juridique — un signal pour la relecture.",
    method_card6_title: "Certification de clarté",
    method_card6_body: "Si le document respecte les standards plain‑language, Simplify attribue un Simplicity Score et un badge de clarté.",
    read_badge: "Comment la lisibilité est mesurée",
    read_title: "Des scores et des explications.",
    read_body: "Formules linguistiques classiques + analyse syntaxique pour comprendre le score et sa cause.",
    read_card1_title: "Flesch Reading Ease (FKRC)",
    read_card1_body: "Échelle 0–100. Plus le score est élevé, plus le texte est lisible. Basé sur la longueur des phrases et les syllabes par mot.",
    read_card2_title: "Gunning Fog Index (GF)",
    read_card2_body: "Traduit la lisibilité en niveau d’études. Les contrats juridiques atteignent souvent 16–20 (niveau post‑universitaire).",
    read_card3_title: "Logique de comptage des syllabes",
    read_card3_body: "Compte les groupes de voyelles, ignore les voyelles muettes et garantit au moins une syllabe par mot.",
    read_math_toggle: "Voir les formules",
    read_math_fkrc: "Référence de formule Flesch Reading Ease",
    read_math_gf: "Référence de formule Gunning Fog Index",
    read_card4_title: "Analyse de densité syntaxique",
    read_card4_body: "Signale la voix passive, les phrases longues (20+ mots) et la densité de legalese pour améliorer la clarté.",
    read_card5_title: "Interprétation des résultats",
    read_card5_body: "Combine les scores en un profil de clarté pour savoir ce qui est difficile à lire et pourquoi.",
    read_card6_title: "Plages de scores",
    read_card6_body: "90–100 très facile, 60–70 standard, 30–50 difficile, 0–30 très difficile.",
    use_badge: "Pensé pour le réel",
    use_title: "Confidentialité, praticité, rapidité.",
    use_body: "Traite les données localement quand c’est possible, intègre un mode de rédaction, et l’OCR pour PDF ou photos. Interface rapide, disponible en anglais, français et allemand.",
    use_mission: "La mission de Simplify est simple : dissiper le flou du langage juridique pour voir ce qui est dit, ce qui doit être clarifié et comment rendre les contrats lisibles et transparents.",
    founder_cta_primary: "Explorer la méthodologie",
    founder_cta_secondary: "Rejoindre la bêta",
    founder_why_title: "Pourquoi Simplify existe",
    founder_why_body: "Des années d’enseignement de la négociation contractuelle et de recherche sur le langage juridique ont montré une chose : beaucoup signent sans comprendre. Simplify rend la clarté la norme."
  }
};

const toggle = document.getElementById('langToggle');
const langFlag = document.getElementById('langFlag');
const langLabel = document.getElementById('langLabel');
const themeToggle = document.getElementById('themeToggle');
const navToggle = document.getElementById('navToggle');
const navMenu = document.getElementById('navMenu');

const i18nNodes = document.querySelectorAll('[data-i18n]');
const placeholderNodes = document.querySelectorAll('[data-i18n-placeholder]');
const altNodes = document.querySelectorAll('[data-i18n-alt]');
const captionNodes = document.querySelectorAll('[data-i18n-caption]');
const page = document.body.getAttribute('data-page');

let currentLang = localStorage.getItem('lang') || 'en';

const applyTranslations = (lang) => {
  const dict = translations[lang];
  i18nNodes.forEach((node) => {
    const key = node.getAttribute('data-i18n');
    if (dict[key]) node.textContent = dict[key];
  });
  placeholderNodes.forEach((node) => {
    const key = node.getAttribute('data-i18n-placeholder');
    if (dict[key]) node.setAttribute('placeholder', dict[key]);
  });
  altNodes.forEach((node) => {
    const key = node.getAttribute('data-i18n-alt');
    if (dict[key]) node.setAttribute('alt', dict[key]);
  });
  captionNodes.forEach((node) => {
    const key = node.getAttribute('data-i18n-caption');
    if (dict[key]) node.dataset.caption = dict[key];
  });
  if (page) {
    const titleKey = `meta_${page}_title`;
    const descKey = `meta_${page}_desc`;
    const ogTitleKey = `meta_${page}_og_title`;
    const ogDescKey = `meta_${page}_og_desc`;
    if (dict[titleKey]) document.title = dict[titleKey];
    const metaDesc = document.querySelector('meta[name=\"description\"]');
    if (metaDesc && dict[descKey]) metaDesc.setAttribute('content', dict[descKey]);
    const ogTitle = document.querySelector('meta[property=\"og:title\"]');
    if (ogTitle && dict[ogTitleKey]) ogTitle.setAttribute('content', dict[ogTitleKey]);
    const ogDesc = document.querySelector('meta[property=\"og:description\"]');
    if (ogDesc && dict[ogDescKey]) ogDesc.setAttribute('content', dict[ogDescKey]);
  }
  document.documentElement.lang = lang === 'en' ? 'en-GB' : 'fr';
  langLabel.textContent = lang.toUpperCase();
  langFlag.classList.toggle('flag-uk', lang === 'en');
  langFlag.classList.toggle('flag-fr', lang === 'fr');
  localStorage.setItem('lang', lang);
};

const highlightActiveNav = () => {
  const path = window.location.pathname.toLowerCase();
  const links = document.querySelectorAll('.nav-links a');
  const aboutLink = document.querySelector('.nav-links .dropdown-toggle');
  links.forEach((link) => {
    const href = link.getAttribute('href')?.toLowerCase() || '';
    const isCurrent =
      (path.endsWith('/') && href.endsWith('index.html')) ||
      (path.endsWith('index.html') && href.endsWith('index.html')) ||
      (path.endsWith('download.html') && href.endsWith('download.html')) ||
      (path.endsWith('methodology.html') && href.endsWith('methodology.html')) ||
      (path.endsWith('founder.html') && href.endsWith('founder.html'));
    if (isCurrent && href) {
      link.setAttribute('aria-current', 'page');
      link.classList.add('active');
    } else {
      link.removeAttribute('aria-current');
      link.classList.remove('active');
    }
  });

  const onAboutPage = path.endsWith('methodology.html') || path.endsWith('founder.html');
  if (aboutLink) {
    if (onAboutPage) {
      aboutLink.setAttribute('aria-current', 'page');
      aboutLink.classList.add('active');
    } else {
      aboutLink.removeAttribute('aria-current');
      aboutLink.classList.remove('active');
    }
  }
};

applyTranslations(currentLang);
highlightActiveNav();

toggle.addEventListener('click', () => {
  currentLang = currentLang === 'en' ? 'fr' : 'en';
  applyTranslations(currentLang);
});

const applyTheme = (theme) => {
  document.body.classList.toggle('theme-dark', theme === 'dark');
  themeToggle?.setAttribute('aria-pressed', theme === 'dark' ? 'true' : 'false');
  localStorage.setItem('theme', theme);
};

const savedTheme = localStorage.getItem('theme');
const initialTheme = savedTheme || 'dark';
applyTheme(initialTheme);
if (!savedTheme) {
  localStorage.setItem('theme', 'dark');
}

themeToggle.addEventListener('click', () => {
  const nextTheme = document.body.classList.contains('theme-dark') ? 'light' : 'dark';
  applyTheme(nextTheme);
});

navToggle?.addEventListener('click', () => {
  const isOpen = document.body.classList.toggle('nav-open');
  navToggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
});

navMenu?.addEventListener('click', (event) => {
  if (event.target instanceof HTMLElement && event.target.tagName === 'A') {
    document.body.classList.remove('nav-open');
    navToggle?.setAttribute('aria-expanded', 'false');
  }
});

const maybeLoadHeroVideo = () => {
  const video = document.querySelector('.hero-video');
  if (!video) return;
  const source = video.querySelector('source[data-src]');
  if (!source) return;
  if (navigator.connection && navigator.connection.saveData) return;
  source.setAttribute('src', source.getAttribute('data-src'));
  source.removeAttribute('data-src');
  video.load();
};

window.addEventListener('load', maybeLoadHeroVideo, { once: true });
